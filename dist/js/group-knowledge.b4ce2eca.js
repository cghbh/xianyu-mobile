/*!
 * 2020-12-31日上线，闲语H5是陈刚的第一个全栈项目，自己完成从前端设计，
 * 到后端接口的设计，
 * 以及Linux系统上Redis和MongoDB数据库安装使用，Nginx代理部署，HTTPS以及域名申请，
 * 见证了过去半年所有空闲时间的努力！新的一年，奥利给！我轻轻的来了，又轻轻地走了......
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["group-knowledge"],{"1f52":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"knowledge-competition"},[i("van-sticky",[i("van-nav-bar",{attrs:{title:"趣味答题",sticky:"","left-arrow":""},on:{"click-left":t.back},scopedSlots:t._u([{key:"left",fn:function(){return[i("div",{staticClass:"back-container"},[i("i",{staticClass:"iconfont icon-left"})])]},proxy:!0}])})],1),i("div",{staticClass:"question-container"},[t.showResult?t._e():i("div",{staticClass:"question-container-area"},[i("div",{staticClass:"question-container-area-progress"},[i("van-circle",{attrs:{rate:100,speed:100,value:t.activeIndex/t.totalQuestions*100,text:t.activeIndex+"/"+t.totalQuestions,size:"50px","layer-color":"#CFDAE6",fill:"#fff",color:"#409fea","stroke-width":"75"}})],1),i("div",{staticClass:"question-container-area-subject"},[i("div",{staticClass:"question-container-area-subject-title"},[t._v(" "+t._s(t.activeQuestion&&t.activeQuestion.question_title)+" ")]),t._l(t.activeQuestion&&t.activeQuestion.question_options,(function(e){return i("div",{key:e._id,staticClass:"question-container-area-subject-option",class:{selecting:t.selectOptions.includes(e.option),disabled:t.disabled,error:!1,right:t.rightAnswer&&t.rightAnswer===e.option,error:t.rightAnswer&&t.rightAnswer!==t.selectOptions.join("")&&t.selectOptions.includes(e.option)},on:{click:function(s){return t.selectOption(e.option)}}},[i("div",{class:{error:!1,right:t.rightAnswer&&t.rightAnswer===e.option,error:t.rightAnswer&&t.rightAnswer!==t.selectOptions.join("")&&t.selectOptions.includes(e.option),content:!0}},[i("span",[t._v(t._s(e.option))]),i("span",[t._v(t._s(e.option_title))])]),t._m(0,!0)])}))],2)]),t.showResult?i("div",{staticClass:"result-display"},[i("img",{attrs:{src:s("3576")}}),i("h1",[t._v("答对"+t._s(t.rightNumber)+"题，共"+t._s(t.totalQuestions)+"题")]),t._m(1)]):t._e(),t.isNext||t.isCompleted?t._e():i("div",{staticClass:"question-container-button",class:{disabled:0===t.selectOptions.length},on:{click:t.confirm}},[t._v(" 确定 ")]),t.isNext?i("div",{staticClass:"question-container-button",on:{click:t.next}},[t._v("下一题")]):t._e(),t.isCompleted?i("div",{staticClass:"question-container-button",on:{click:t.complete}},[t._v("完成")]):t._e()])],1)},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"iconfont-container"},[i("img",{staticClass:"icon-check-circle-fill",attrs:{src:s("89f6")}}),i("img",{staticClass:"icon-close-circle-fill",attrs:{src:s("ac41")}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("超过"),s("span",[t._v("10%")]),t._v("的人")])}],o=s("751a");const c=()=>o["a"].post("/subjects/random");var a=s("b115"),r={name:"KnowledgeCompetition",metaInfo:a["a"].Competition,data(){return{activeIndex:1,selectOptions:[],isNext:!1,disabled:!1,rightAnswer:"",isCompleted:!1,showResult:!1,showResultTag:0,rightNumber:0,subjects:[]}},computed:{activeQuestion(){return this.subjects[this.activeIndex-1]},totalQuestions(){return this.subjects.length},isSingle(){return!0},rightRate(){return parseInt(this.rightNumber/this.totalQuestions*100)+"%"}},mounted(){this.getSubjectsHandle()},methods:{back(){this.$dialog.confirm({message:"确定要退出答题？\n退出后当前答题进度将不被保存",confirmButtonText:"继续答题",confirmButtonColor:"#409fea",cancelButtonText:"确定",cancelButtonColor:"#999"}).then(()=>{}).catch(()=>{this.$router.push("/")})},async getSubjectsHandle(){const t=await c();0===t.errno&&(this.subjects=t.data)},selectOption(t){if(this.isSingle)if(this.selectOptions.length<=0)this.selectOptions.push(t);else if(this.selectOptions.includes(t)){const e=this.selectOptions.indexOf(t);this.selectOptions.splice(e,1)}else this.selectOptions.length>=1&&(this.selectOptions.pop(),this.selectOptions.push(t))},confirm(){this.rightAnswer=this.activeQuestion.question_answer,this.disabled=!0,this.rightAnswer===this.selectOptions.join("")&&this.rightNumber++,this.activeIndex>=this.totalQuestions?(this.isNext=!1,this.isCompleted=!0):this.isNext=!0},next(){this.activeIndex++,this.disabled=!1,this.rightAnswer="",this.selectOptions=[],this.isNext=!1},complete(){this.showResult=!0,this.showResultTag++,this.showResultTag%2===0&&(setTimeout(()=>{this.$router.push("/")},800),this.$toast("正在退出中，请稍等"))}}},l=r,h=(s("3f10"),s("2877")),u=Object(h["a"])(l,i,n,!1,null,"7ac77436",null);e["default"]=u.exports},3576:function(t,e,s){t.exports=s.p+"img/courage.32ad7edb.png"},"3f10":function(t,e,s){"use strict";s("f588")},"89f6":function(t,e,s){t.exports=s.p+"img/icon-check-circle-fill.cd10aeb6.svg"},ac41:function(t,e,s){t.exports=s.p+"img/icon-close-circle-fill.e0d52278.svg"},b115:function(t,e,s){"use strict";e["a"]={Discover:{title:"闲语H5端，陈刚的全栈项目",meta:[{name:"网站首页",content:"闲语 www.cghbh.com 诗词文艺 cghbh"}]},ArticleList:{title:"凌云健笔意纵横，更多好文尽在闲语H5",meta:[{name:"好文列表",content:"闲语 好文 www.cghbh.com cghbh"}]},ArticleDetail:{title:"凌云健笔意纵横，更多好文尽在闲语H5",meta:[{name:"好文详情",content:"闲语 好文 www.cghbh.com cghbh"}]},Dynamic:{title:"畅所欲言，记录每一天！",meta:[{name:"动态",content:"闲语 动态 cghbh www.cghbh.com 动态发布"}]},Competition:{title:"知识竞赛，思维拓展",meta:[{name:"动态",content:"闲语 竞赛 cghbh www.cghbh.com 知识竞赛 趣味知识"}]},MyDetail:{title:"我的地盘我做主",meta:[{name:"动态",content:"闲语 主页 cghbh www.cghbh.com  个人主页"}]}}},f588:function(t,e,s){}}]);