/*!
 * 2020-12-31日上线，闲语H5是陈刚的第一个全栈项目，自己完成从前端设计，
 * 到后端接口的设计，
 * 以及Linux系统上Redis和MongoDB数据库安装使用，Nginx代理部署，HTTPS以及域名申请，
 * 见证了过去半年所有空闲时间的努力！新的一年，奥利给！我轻轻的来了，又轻轻地走了......
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["group-index-other"],{"0208":function(t,e,i){},"0a4e":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"xianyu-mine"},[s("div",{staticClass:"xianyu-mine-header"},[s("div",{staticClass:"xianyu-mine-header-container"},[s("div",{staticClass:"xianyu-header-top"},[t.token?s("div",{staticClass:"xianyu-header-top-left-logined",on:{click:function(e){return t.$router.push("/my-detail/"+t.userId)}}},[s("van-image",{attrs:{width:"56",height:"56",round:"",fit:"cover",src:t.userInfo.avatar_url}})],1):s("div",{staticClass:"xianyu-header-top-left",on:{click:function(e){return t.$router.push("/login")}}},[s("img",{attrs:{src:i("60cc"),alt:"未登录"}})]),s("div",{staticClass:"xianyu-header-top-right"},[s("h1",[t._v(t._s(t.token?t.userInfo.nickname:"点击头像登录"))]),s("p",[t._v(t._s(t.token?"点击头像查看个人主页":"登录收藏喜欢的内容"))])])]),s("div",{staticClass:"xianyu-header-bottom"},[s("div",{staticClass:"xianyu-header-bottom-dynamic",on:{click:function(e){return t.$router.push("/my-publish")}}},[s("h1",[t._v(t._s(t.token?t.dynamicNumber:"0"))]),s("p",[t._v("动态")])]),s("div",{staticClass:"xianyu-header-bottom-fans",on:{click:function(e){return t.$router.push("/myfans")}}},[s("h1",[t._v(t._s(t.token?t.fansNumber:"0"))]),s("p",[t._v("粉丝")])]),s("div",{staticClass:"xianyu-header-bottom-follows",on:{click:function(e){return t.$router.push("/fellowing")}}},[s("h1",[t._v(t._s(t.token?t.followNumber:"0"))]),s("p",[t._v("关注")])])])])]),s("div",{staticClass:"xianyu-mine-settings settings-one"},[s("div",{staticClass:"xianyu-mine-settings-item border-bottom",on:{click:function(e){return t.$router.push("/mylike")}}},[t._m(0),t._m(1)]),s("div",{staticClass:"xianyu-mine-settings-item",on:{click:function(e){return t.$router.push("/mycollection")}}},[t._m(2),t._m(3)])]),s("div",{staticClass:"xianyu-mine-settings settings-two"},[s("div",{staticClass:"xianyu-mine-settings-item border-bottom",on:{click:function(e){return t.$router.push("/userinfo-edit")}}},[t._m(4),t._m(5)]),s("div",{staticClass:"xianyu-mine-settings-item",on:{click:function(e){return t.$router.push("/feedback")}}},[t._m(6),t._m(7)])]),s("div",{staticClass:"xianyu-mine-settings settings-three",on:{click:function(e){return t.$router.push("/setting")}}},[t._m(8)])])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"xianyu-mine-settings-item-left"},[i("i",{staticClass:"iconfont icon-like"}),i("span",[t._v("我的点赞")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"xianyu-mine-settings-item-right"},[i("i",{staticClass:"iconfont icon-right"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"xianyu-mine-settings-item-left"},[i("i",{staticClass:"iconfont icon-shoucang"}),i("span",[t._v("我的收藏")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"xianyu-mine-settings-item-right"},[i("i",{staticClass:"iconfont icon-right"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"xianyu-mine-settings-item-left"},[i("i",{staticClass:"iconfont icon-ziliao"}),i("span",[t._v("我的资料")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"xianyu-mine-settings-item-right"},[i("i",{staticClass:"iconfont icon-right"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"xianyu-mine-settings-item-left"},[i("i",{staticClass:"iconfont icon-yijianfankui"}),i("span",[t._v("意见反馈")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"xianyu-mine-settings-item-right"},[i("i",{staticClass:"iconfont icon-right"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"xianyu-mine-settings-item border-bottom"},[i("div",{staticClass:"xianyu-mine-settings-item-left"},[i("i",{staticClass:"iconfont icon-shezhi1"}),i("span",[t._v("设置")])]),i("div",{staticClass:"xianyu-mine-settings-item-right"},[i("i",{staticClass:"iconfont icon-right"})])])}],a=i("c24f"),c={name:"Mine",data(){return{userInfo:{},isLogin:!1,fansNumber:0,followNumber:0,dynamicNumber:0}},mounted(){this.$store.commit("addCachedPages","Mine"),this.token&&(this.isLogin=!0,this.loadUserInfo(),this.getLoginedFans(),this.getMyFollows(),this.getMyDynamics())},async activated(){if(this.token){const t=await Promise.all([Object(a["p"])(),Object(a["e"])(this.userId),Object(a["M"])(this.userId),Object(a["f"])()]);0===t[0].errno&&JSON.stringify(t[0].data)!==JSON.stringify(this.userInfo)&&(this.userInfo=t[0].data),0===t[1].errno&&this.fansNumber!==t[1].total&&(this.fansNumber=t[1].total),0===t[2].errno&&this.followNumber!==t[2].total&&(this.followNumber=t[2].total),0===t[3].errno&&this.dynamicNumber!==t[3].data.length&&(this.dynamicNumber=t[3].data.length)}},computed:{token(){return this.$store.state.token.token},userId(){return this.$store.state.token.userId}},methods:{async loadUserInfo(){const t=await Object(a["p"])();0===t.errno?this.userInfo=t.data:this.$toast("请求用户信息失败")},async getLoginedFans(){const t=await Object(a["e"])(this.userId);0===t.errno&&(this.fansNumber=t.total)},async getMyFollows(){const t=await Object(a["M"])(this.userId);0===t.errno&&(this.followNumber=t.total)},async getMyDynamics(){const t=await Object(a["f"])();0===t.errno&&(this.dynamicNumber=t.data.length)}}},o=c,r=(i("dba4"),i("2877")),l=Object(r["a"])(o,s,n,!1,null,"2014336e",null);e["default"]=l.exports},2423:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"a",(function(){return a})),i.d(e,"c",(function(){return c}));var s=i("751a");const n=(t=1,e="")=>s["a"].get(`/articles?current_page=${t}&q=${e}`),a=t=>s["a"].get("/articles/"+t),c=()=>s["a"].post("/articles/hot")},"3ca3":function(t,e,i){"use strict";i("7fa2")},"439c":function(t,e,i){"use strict";i("e0bb")},"4b28":function(t,e,i){},5468:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"xianyu-article-item",class:{"no-margin-bottom":t.noMarginBottom},on:{click:function(e){return t.$emit("click")}}},[i("div",{staticClass:"xianyu-article-item-content"},[i("h1",{staticClass:"xianyu-article-item-content-title",domProps:{innerHTML:t._s(t.article.article_title)}}),i("h3",{staticClass:"xianyu-article-item-content-author",domProps:{innerHTML:t._s(t.article.article_author)}}),i("p",{staticClass:"xianyu-article-item-content-about",domProps:{innerHTML:t._s(t.article.article_introduce)}})]),i("van-image",{attrs:{width:"80px",height:"80px",fit:"cover",src:t.article.article_image},scopedSlots:t._u([{key:"loading",fn:function(){return[i("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[t._v("加载失败")]},proxy:!0}])})],1)},n=[],a={name:"ArticleItem",props:{noMarginBottom:{type:Boolean,default:!1},article:{type:Object,default:()=>{},required:!0}}},c=a,o=(i("3ca3"),i("2877")),r=Object(o["a"])(c,s,n,!1,null,"6fb41a38",null);e["a"]=r.exports},"60cc":function(t,e,i){t.exports=i.p+"img/user-unlogin.50535d84.svg"},6723:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"homepage-container"},[s("div",{ref:"discover",staticClass:"xianyu-discover",attrs:{id:"xianyu-discover"}},[t.showSkeleton?s("home-skeleton"):s("div",{staticClass:"xianyu-discover-content-container"},[s("van-search",{attrs:{"input-align":"center",placeholder:"搜索好文/诗词/成语/用户",readonly:"",disabled:""},on:{click:function(e){return t.$router.push("/search")}}}),s("div",{staticStyle:{padding:"0 15px","margin-top":"15px","border-radius":"10px",overflow:"hidden",height:"180px"}},[s("img",{staticStyle:{width:"100%",height:"100%","border-radius":"6px","object-fit":"cover"},attrs:{src:i("c4d7"),alt:""}})]),s("div",{staticClass:"xianyu-classify"},[s("div",{staticClass:"xianyu-classify-item",on:{click:function(e){return t.$router.push("/article-list")}}},[s("i",{staticClass:"iconfont icon-huokewenzhang"}),s("span",[t._v("好文")])]),s("div",{staticClass:"xianyu-classify-item",on:{click:function(e){return t.$router.push("/ancient-poetrylist")}}},[s("i",{staticClass:"iconfont icon-wenxue"}),s("span",[t._v("诗词")])]),s("div",{staticClass:"xianyu-classify-item",on:{click:function(e){return t.$router.push("/dictionary-list")}}},[s("i",{staticClass:"iconfont icon-datiqia"}),s("span",[t._v("词典")])]),s("div",{staticClass:"xianyu-classify-item",on:{click:function(e){return t.$router.push("/joke")}}},[s("i",{staticClass:"iconfont icon-xiaolian"}),s("span",[t._v("开心一刻")])])]),s("div",{staticClass:"title-container"},[s("h1",{staticClass:"xianyu-discover-title-recommend",class:{active:1===t.activeIndex},on:{click:function(e){t.activeIndex=1}}},[t._v("推荐好文")]),s("h1",{staticClass:"xianyu-discover-title-recommend",class:{active:2===t.activeIndex},on:{click:function(e){t.activeIndex=2}}},[t._v("推荐诗词")])]),1===t.activeIndex?s("div",{staticClass:"article-recommend-container"},t._l(t.recommendArticles,(function(e,i){return s("article-item",{key:e._id,attrs:{article:e,"no-margin-bottom":i===t.recommendArticles.length-1},on:{click:function(i){return t.$router.push("/article-detail/"+e._id)}}})})),1):t._e(),2===t.activeIndex?s("div",{staticClass:"poem-recommend-container"},t._l(t.recommendPoems,(function(e,i){return s("poem-item",{key:e._id,attrs:{itemvalue:e,"no-margin":i===t.recommendPoems.length-1},on:{click:function(i){return t.$router.push("/ancient-poetry/"+e._id)}}})})),1):t._e()],1),t._m(0)],1)])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"keep-record-container "},[i("a",{staticClass:"keep-record",attrs:{href:"https://beian.miit.gov.cn/"}},[t._v("鄂ICP备2020021583号-1")])])}],a=i("5468"),c=i("e1da"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home-skeleton"},[i("skeleton",{staticClass:"skeleton-all-container",attrs:{theme:"opacity","bg-color":"#dcdbdc"}},[i("skeleton",{attrs:{theme:"opacity","bg-color":"#dcdbdc"}},[i("tb-skeleton",{staticClass:"skeleton-search-input",attrs:{width:"100%",height:"32px",shape:"rect"}})],1),i("skeleton",{attrs:{theme:"opacity","bg-color":"#dcdbdc"}},[i("tb-skeleton",{staticClass:"skeleton-user-tips",attrs:{width:"100%",height:"180px",shape:"rect"}})],1),i("skeleton",{staticClass:"skeleton-classify",attrs:{theme:"opacity","bg-color":"#dcdbdc"}},t._l(4,(function(t){return i("skeleton",{key:t+Math.random(),staticClass:"skeleton-classify-item",attrs:{theme:"opacity","bg-color":"#dcdbdc"}},[i("tb-skeleton",{staticClass:"skeleton-classify-item-top",attrs:{width:"54px",height:"54px",shape:"circle"}}),i("tb-skeleton",{staticClass:"skeleton-classify-item-bottom",attrs:{width:"40px",height:"12px",shape:"rect"}})],1)})),1),i("skeleton",{staticClass:"skeleton-switch",attrs:{theme:"opacity","bg-color":"#dcdbdc"}},[i("tb-skeleton",{staticClass:"skeleton-switch-one",attrs:{width:"80px",height:"20px",shape:"rect"}}),i("tb-skeleton",{staticClass:"skeleton-switch-two",attrs:{width:"80px",height:"17px",shape:"rect"}})],1),t._l(2,(function(t){return i("skeleton",{key:t+Math.random(),staticClass:"skeleton-recomend",attrs:{theme:"opacity","bg-color":"#dcdbdc"}},[i("skeleton",{staticClass:"skeleton-recomend-left",attrs:{theme:"opacity","bg-color":"#dcdbdc"}},[i("tb-skeleton",{staticClass:"skeleton-recomend-left-title",attrs:{width:"100%",height:"20px",shape:"rect"}}),i("tb-skeleton",{staticClass:"skeleton-recomend-left-author",attrs:{width:"40%",height:"13px",shape:"rect"}}),i("tb-skeleton",{staticClass:"skeleton-recomend-left-content",attrs:{width:"100%",height:"72px",shape:"rect"}})],1),i("skeleton",{staticClass:"skeleton-recomend-right",attrs:{theme:"opacity","bg-color":"#dcdbdc"}},[i("tb-skeleton",{staticClass:"skeleton-recomend-right-pic",attrs:{width:"100px",height:"100px",shape:"rect"}})],1)],1)}))],2)],1)},r=[],l={},u=l,d=(i("cd16"),i("2877")),m=Object(d["a"])(u,o,r,!1,null,"0d8ce94b",null),h=m.exports,f=i("2423"),p=i("ae0e"),v=i("60bb"),g=i("b115"),b={name:"Discover",metaInfo:g["a"].Discover,data(){return{activeIndex:1,recommendArticles:[],recommendPoems:[],scrollTop:0,showSkeleton:!0}},watch:{activeIndex:{handler(t){1===t?this.getRecommendArticle():this.getrecommendPoem()},immediate:!0}},mounted(){this.$store.commit("addCachedPages","Discover"),this.$refs.discover&&this.$refs.discover.addEventListener("scroll",Object(v["debounce"])(this.discoverPageScroll,30))},activated(){this.$refs.discover&&(this.$refs.discover.scrollTop=this.scrollTop)},beforeDestroy(){this.$refs.discover&&this.$refs.discover.removeEventListener("scroll",this.discoverPageScroll,!0)},methods:{async getRecommendArticle(){const t=await Object(f["c"])();0===t.errno&&(this.recommendArticles=t.data,setTimeout(()=>{this.showSkeleton=!1},30))},async getrecommendPoem(){const t=await Object(p["c"])();0===t.errno&&(this.recommendPoems=t.data)},discoverPageScroll(){const t=this.$refs.discover.scrollTop;this.scrollTop=t}},components:{ArticleItem:a["a"],PoemItem:c["a"],HomeSkeleton:h}},y=b,_=(i("439c"),Object(d["a"])(y,s,n,!1,null,"0d7eb788",null));e["default"]=_.exports},"6bc3":function(t,e,i){"use strict";i("fd93")},"7fa2":function(t,e,i){},ae0e:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"a",(function(){return a})),i.d(e,"c",(function(){return c}));var s=i("751a");const n=(t=1,e="")=>s["a"].get(`/poems?current_page=${t}&q=${e}`),a=t=>s["a"].get("/poems/"+t),c=()=>s["a"].post("/poems/hot")},b115:function(t,e,i){"use strict";e["a"]={Discover:{title:"闲语H5端，陈刚的全栈项目",meta:[{name:"网站首页",content:"闲语 www.cghbh.com 诗词文艺 cghbh"}]},ArticleList:{title:"凌云健笔意纵横，更多好文尽在闲语H5",meta:[{name:"好文列表",content:"闲语 好文 www.cghbh.com cghbh"}]},ArticleDetail:{title:"凌云健笔意纵横，更多好文尽在闲语H5",meta:[{name:"好文详情",content:"闲语 好文 www.cghbh.com cghbh"}]},Dynamic:{title:"畅所欲言，记录每一天！",meta:[{name:"动态",content:"闲语 动态 cghbh www.cghbh.com 动态发布"}]},Competition:{title:"知识竞赛，思维拓展",meta:[{name:"动态",content:"闲语 竞赛 cghbh www.cghbh.com 知识竞赛 趣味知识"}]},MyDetail:{title:"我的地盘我做主",meta:[{name:"动态",content:"闲语 主页 cghbh www.cghbh.com  个人主页"}]}}},c4d7:function(t,e,i){t.exports=i.p+"img/poem_demo.0dad87de.jpeg"},cd16:function(t,e,i){"use strict";i("4b28")},dba4:function(t,e,i){"use strict";i("0208")},e0bb:function(t,e,i){},e1da:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ancient-item",class:{"no-margin":t.noMargin},on:{click:function(e){return t.$emit("click")}}},[i("div",{staticClass:"ancient-item-title"},[i("h1",{domProps:{innerHTML:t._s(t.itemvalue.poem_title)}}),i("p",[t._v(" ["),i("span",{domProps:{innerHTML:t._s(t.itemvalue.author_dynasty)}}),t._v("] ")])]),i("p",{staticClass:"ancient-item-author",domProps:{innerHTML:t._s(t.itemvalue.poem_author)}})])},n=[],a={name:"PoemItem",props:{last:{type:Boolean,default:!0},itemvalue:{type:Object,default:()=>{},required:!0},noMargin:{type:Boolean,default:!1}}},c=a,o=(i("6bc3"),i("2877")),r=Object(o["a"])(c,s,n,!1,null,"a137c460",null);e["a"]=r.exports},fd93:function(t,e,i){}}]);